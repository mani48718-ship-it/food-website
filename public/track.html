<!DOCTYPE html>
<html>
<head>
    <title>Track Order</title>
    <style>
        body{
            font-family: Arial;
            text-align:center;
            background:#f5f5f5;
            padding-top:100px;
        }
        .box{
            background:white;
            padding:25px;
            width:320px;
            margin:auto;
            border-radius:10px;
            box-shadow:0 0 10px #ccc;
        }
        input{
            padding:10px;
            width:90%;
            margin:10px;
        }
        button{
            padding:10px 20px;
            background:#ff4d4d;
            color:white;
            border:none;
            border-radius:5px;
        }
    </style>
</head>

<body>

<div class="box">
<h2>Track Your Order</h2>

<input id="phone" placeholder="Enter Phone Number">
<br>
<button onclick="track()">Track</button>

<div id="result"></div>
</div>

<script>
async function track(){
    const phone = document.getElementById("phone").value;

    const res = await fetch("/track-order/"+phone);
    const data = await res.json();

    const resultDiv = document.getElementById("result");

    if(data.found){

        let stages = ["Preparing","Ready","Out for Delivery","Delivered"];
        let html = "<h3>Order: "+data.food+"</h3>";

        stages.forEach(stage=>{
            if(stage === data.status){
                html += "<p style='color:green;font-weight:bold'>✔ "+stage+"</p>";
            }else{
                html += "<p style='color:gray'>• "+stage+"</p>";
            }
        });

        resultDiv.innerHTML = html;

    }else{
        resultDiv.innerHTML = "No order found";
    }
}
</script>

</body>
</html>