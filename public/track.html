<!DOCTYPE html>
<html>
<head>
    <title>Track Your Order</title>

    <style>
        body{
            font-family: Arial;
            background:#f5f5f5;
            text-align:center;
            padding-top:60px;
        }

        .box{
            background:white;
            width:360px;
            margin:auto;
            padding:25px;
            border-radius:12px;
            box-shadow:0 0 12px rgba(0,0,0,0.2);
        }

        input{
            padding:10px;
            width:85%;
            margin:10px;
            border-radius:6px;
            border:1px solid #ccc;
        }

        button{
            padding:10px 18px;
            background:#ff4d4d;
            color:white;
            border:none;
            border-radius:6px;
            cursor:pointer;
        }

        button:hover{
            background:#e43b3b;
        }

        .stage{
            margin:10px 0;
            padding:10px;
            border-radius:8px;
            text-align:left;
        }

        .done{
            background:#d4edda;
            color:#155724;
            font-weight:bold;
        }

        .pending{
            background:#eeeeee;
            color:#777;
        }

        .title{
            margin-bottom:10px;
        }
    </style>
</head>

<body>

<div class="box">

    <div style="margin:15px;">
  <a href="/" style="
    background:#28a745;
    color:white;
    padding:10px 18px;
    text-decoration:none;
    border-radius:6px;
    font-weight:bold;">
    üçΩ Back to Order Menu
  </a>
</div>

<h2 class="title">üì¶ Track Your Order</h2>

<input id="phone" placeholder="Enter your mobile number">
<br>
<button onclick="track()">Track Order</button>

<div id="result"></div>

</div>

<script>
async function track(){

    const phone = document.getElementById("phone").value;

    if(!phone){
        alert("Enter phone number");
        return;
    }

    const res = await fetch("/track-order/" + phone);
    const data = await res.json();

    const resultDiv = document.getElementById("result");

    if(!data.found){
        resultDiv.innerHTML = "<h3>No order found</h3>";
        return;
    }

    let stages = ["Preparing","Ready","Out for Delivery","Delivered"];

    let html = `<h3>üçΩ Food: ${data.food}</h3><br>`;

    stages.forEach(stage=>{
        if(stage === data.status){
            html += `<div class="stage done">‚úî ${stage}</div>`;
        }else{
            html += `<div class="stage pending">‚Ä¢ ${stage}</div>`;
        }
    });

    resultDiv.innerHTML = html;
}
</script>

</body>
</html>
